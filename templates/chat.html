{% extends "base.html" %}
{% block content %}
<div class="chat-box">
  <div class="chat-header">
    <strong>@{{other.username}}</strong>
    <button onclick="startCall({{other.id}})" style="background:#fff;color:#00BFFF;border:2px solid #00BFFF;padding:10px 20px;border-radius:50px;font-size:1.2rem;">
      Audio Call
    </button>
  </div>
  <div id="messages" class="messages"></div>
  <div style="padding:1rem;display:flex;gap:10px;">
    <input id="msgInput" placeholder="Type..." style="flex:1;padding:12px;border-radius:25px;border:1px solid #ccc;">
    <button onclick="sendMsg()" style="background:#00BFFF;color:#fff;padding:12px 20px;border:none;border-radius:25px;">Send</button>
    <button id="voiceBtn" style="background:#fff;color:#00BFFF;border:2px solid #00BFFF;padding:10px;border-radius:50%;">Microphone</button>
  </div>
</div>
<script>
const room="{{room}}", recipient={{other.id}};
socket.emit('join',{room});
</script>
<script src="{{url_for('static',filename='js/chat.js')}}"></script>
{% endblock %}